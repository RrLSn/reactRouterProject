(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9577],{67816:function(e,n,a){"use strict";var c=a(47842),r=a(52322),s=a(2784),t=a(72779),o=a.n(t),i=a(11655),u=a(80817),_=a(53798),l=a(88472),h=a(84828),f=a.n(h);n.Z=function(e){var n=e.className,a=void 0===n?"":n,t=e.searchValue,h=void 0===t?"":t,d=e.searches,m=e.placeholder,p=void 0===m?"Search for Articles, Topics":m,v=e.noPopover,x=void 0!==v&&v,C=e.onValueChange,N=void 0===C?function(){}:C,Z=e.handleSearch,b=void 0===Z?function(){}:Z,k=e.onSearchBarClick,j=void 0===k?function(){}:k,S=e.onSearchItemRemove,g=void 0===S?function(){}:S,y=(0,s.useState)(h),w=y[0],I=y[1],R=(0,s.useState)(!1),A=R[0],E=R[1],J=(0,s.useRef)(null),O=(0,s.useRef)(null),V=(0,s.useCallback)((function(e){e&&e.focus({preventScroll:!0})}),[]),L=function(){E(!1)};(0,i.Z)(J,(function(e){O.current&&!O.current.contains(e.target)&&L()}));var W,q=function(){j(),E(!0)},B=function(e){b(e),I(e),N(e),L()};return(0,r.jsxs)("div",{className:o()(f().searchbarContainer,(W={},(0,c.Z)(W,a,a),(0,c.Z)(W,f().searchbarContainer_open,A),W)),children:[(0,r.jsxs)("div",{className:o()(f().container,"p-15",(0,c.Z)({},f().searched_container,A)),ref:J,children:[(0,r.jsx)(_.Z,{name:"search",className:f().search_icon}),A?(0,r.jsxs)(l.Z,{component:"div",className:f().search_btn,onClick:q,children:[(0,r.jsx)("input",{ref:V,type:"text",value:w,className:f().input_area,autoComplete:"off",placeholder:p,onKeyDown:function(e){"Enter"===e.key&&(b(w),L())},onChange:function(e){var n=e.target.value;I(n),N(n)}}),w?(0,r.jsx)(_.Z,{name:"close",className:o()(f().cross,f().clear),onClick:function(){return B("")}}):null]}):(0,r.jsxs)(l.Z,{component:"div",className:f().search_btn,"data-testid":"input-id1",onClick:q,children:[(0,r.jsx)("span",{className:f().search_text,children:w||p}),w?(0,r.jsx)(_.Z,{name:"close",className:o()(f().cross,f().clear),onClick:function(){return B("")}}):null]})]}),A&&!x?(0,r.jsx)(u.Z,{isOpen:A,anchorRef:J,onClose:L,location:{left:0,top:"100%"},className:f().popover,children:(0,r.jsx)("div",{className:f().input_container,ref:O,children:d&&d.length>0?(0,r.jsx)("div",{className:f().recent_searches_container,children:d.map((function(e){return(0,r.jsxs)("div",{className:f().recent_search,children:[(0,r.jsxs)("div",{className:f().icon_text_container,children:[(0,r.jsx)(_.Z,{name:"hour",className:f().hour_icon}),(0,r.jsx)("span",{role:"button",tabIndex:0,className:f().search_name,onClick:function(){return B(e)},children:e})]}),(0,r.jsx)(_.Z,{name:"close",className:f().cross,onClick:function(){return g(e)}})]},e)}))}):null})}):null]})}},54615:function(e,n,a){"use strict";var c=a(50930),r=a(2784);n.Z=function(e){var n=(0,r.useCallback)((function(n){localStorage.setItem(e,JSON.stringify(n))}),[e]),a=(0,r.useState)((function(){return function(){var a=[];try{var c=localStorage.getItem(e);c?(a=JSON.parse(c),Array.isArray(a)||(a=[])):n([])}catch(r){}return a}()})),s=a[0],t=a[1],o=(0,r.useCallback)((function(e){t(e),n(e)}),[n]),i=(0,r.useCallback)((function(e){if(e&&e.trim()){if(s.some((function(n){return n.toLowerCase()===e.toLowerCase()})))return;var n=(0,c.Z)(s).concat([e]);n.length>8&&n.shift(),o(n)}}),[s,o]),u=(0,r.useCallback)((function(e){var n=s.filter((function(n){return n!==e}));o(n)}),[s,o]);return[s,i,u]}},69577:function(e,n,a){"use strict";a.r(n);var c=a(47842),r=a(87394),s=a(52322),t=a(5632),o=a(2784),i=a(72779),u=a.n(i),_=a(67816),l=a(30337),h=a(54615),f=a(54162),d=a.n(f);n.default=function(e){var n=e.classNames,a=void 0===n?"":n,i=e.onClick,f=void 0===i?function(){}:i,m=(0,t.useRouter)(),p=(0,r.Z)((0,h.Z)("search-history"),3),v=p[0],x=p[1],C=p[2],N=(0,o.useState)([]),Z=N[0],b=N[1],k=(0,o.useContext)(l.d),j=k.text,S=k.setText,g=(0,o.useCallback)((function(e){var n=v.filter((function(n){return n.toLowerCase().includes(e.trim().toLowerCase())}));b(n)}),[v]);(0,o.useEffect)((function(){g(j)}),[j,g]);return(0,s.jsx)(_.Z,{searchValue:j,className:u()(d().headSearch,(0,c.Z)({},a,a)),onSearchBarClick:f,onValueChange:g,searches:Z,handleSearch:function(e){x(e),m.pathname.includes("/search")?S(e):m.push("/search?q=".concat(e))},onSearchItemRemove:C})}},84828:function(e){e.exports={searchbarContainer:"search_searchbarContainer__x3u_B",searchbarContainer_open:"search_searchbarContainer_open___ZWXt",container:"search_container__d1rV9",search_text:"search_search_text__80cj0",search_btn:"search_search_btn__AjpZg",searched_container:"search_searched_container__Atusy",input_container:"search_input_container__XhZpP",search_container:"search_search_container__2YElt",input_area:"search_input_area__2WJ0N",search_icon:"search_search_icon__Kr9M1",recent_searches_container:"search_recent_searches_container__IxW3o",icon_text_container:"search_icon_text_container__72rDa",recent_search:"search_recent_search__Fmzgx",search_name:"search_search_name__MqOOm",popover:"search_popover__leAwZ",hour_icon:"search_hour_icon__IdNCn",cross:"search_cross__InM2E",clear:"search_clear__Wqusk"}},54162:function(e){e.exports={headSearch:"search-bar_headSearch__9JRJh"}}}]);